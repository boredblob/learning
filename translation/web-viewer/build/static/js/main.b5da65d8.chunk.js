(this["webpackJsonpweb-viewer"]=this["webpackJsonpweb-viewer"]||[]).push([[0],{311:function(t,e,n){},313:function(t,e,n){},318:function(t,e){},319:function(t,e){},327:function(t,e){},337:function(t,e){},338:function(t,e){},339:function(t,e){},347:function(t,e){},354:function(t,e,n){"use strict";n.r(e);var r=n(9),a=n.n(r),c=n(53),i=n.n(c),s=(n(311),n(19)),u=n(215),o=n(3),l=n.n(o),f=n(12),j=n(6),p=(n(313),n(280)),d=n(385),h=n(386),b=n(389),O=n(390),v=n(118),g=n(68),m=Object(p.a)({palette:{type:"dark"}});function x(t){var e=t.toLowerCase().trim();return e="<start> "+(e=(e=(e=(e=(e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).replace(/([?.!,\xbf\xa1])/g," "+e[e.search(/([?.!,\xbf\xa1])/g)]+" ")).replace(/[^a-zA-Z?.!,\xbf\xa1]+/g," ")).replace(/\s\s+/g," ")).trim())+" <end>"}function w(){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./dicts/input_wi.json").then((function(t){return t.json()}));case 2:return t.t0=t.sent,t.next=5,fetch("./dicts/input_iw.json").then((function(t){return t.json()}));case 5:return t.t1=t.sent,t.t2={wi:t.t0,iw:t.t1},t.next=9,fetch("./dicts/target_wi.json").then((function(t){return t.json()}));case 9:return t.t3=t.sent,t.next=12,fetch("./dicts/target_iw.json").then((function(t){return t.json()}));case 12:return t.t4=t.sent,t.t5={wi:t.t3,iw:t.t4},t.abrupt("return",{input:t.t2,target:t.t5});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){if(0===t.length)return-1;for(var e=t[0],n=0,r=1;r<t.length;r++)t[r]>e&&(n=r,e=t[r]);return n}var C=function(){var t=Object(r.useState)(""),e=Object(j.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(""),i=Object(j.a)(c,2),o=i[0],p=i[1],y=Object(r.useState)(null),C=Object(j.a)(y,2),k=C[0],N=C[1],F=Object(r.useState)(null),P=Object(j.a)(F,2),T=P[0],_=P[1],D=Object(r.useState)(null),E=Object(j.a)(D,2),L=E[0],z=E[1],B=Object(r.useState)(!1),I=Object(j.a)(B,2),J=I[0],A=I[1];return Object(r.useEffect)((function(){function t(){return(t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,v.b("./models/encoder/model.json");case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=_,t.next=8,v.b("./models/decoder/model.json");case 8:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=z,t.next=13,w();case 13:t.t5=t.sent,(0,t.t4)(t.t5);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(g.jsx)(d.a,{theme:m,children:Object(g.jsxs)("form",{className:"container",action:"",onSubmit:function(t){t.preventDefault(),A(!1),p(function(t,e,n,r,a){if(null==e||null==n||null==r)return"";if(""===t)return"";var c=[];console.log(x(t).split(" "));var i,u=Object(s.a)(x(t).split(" "));try{for(u.s();!(i=u.n()).done;){var o=i.value,l=r.input.wi[o];if(null==l)return a(!0),"";c.push(l)}}catch(N){u.e(N)}finally{u.f()}for(var f=c.length;f<65;f++)c.push(0);for(var p=v.c([c]),d="",h=v.d([1,1024]),b=e.predict([p,h]),O=Object(j.a)(b,2)[1],g=v.a([r.target.wi["<start>"]],0),m=0;m<53;m++){var w=void 0,y=n.predict([g,O]),C=Object(j.a)(y,2);w=C[0],O=C[1];var k=S(w.gather(0).gather(0).arraySync());if("<end>"===r.target.iw[k])break;d+=r.target.iw[k]+" ",g=v.a([k],0)}return d}(n,k,T,L,A))},children:[Object(g.jsxs)("div",{className:"textfield-wrapper",children:[Object(g.jsx)(h.a,{variant:"h4",color:"textPrimary",children:"French:"}),Object(g.jsx)(b.a,Object(u.a)(Object(u.a)({className:"textfield",id:"french",name:"french",variant:"standard",label:""},J&&{error:!0,helperText:"Unrecognised Word"}),{},{inputProps:{autoComplete:"off",spellCheck:"false"},defaultValue:"",onChange:function(t){a(t.target.value)}}))]}),Object(g.jsxs)("div",{className:"textfield-wrapper",children:[Object(g.jsx)(h.a,{variant:"h4",color:"textPrimary",children:"English:"}),Object(g.jsx)(b.a,{className:"textfield",id:"english",name:"english",variant:"standard",label:"",inputProps:{autoComplete:"off",spellCheck:"false"},value:o})]}),Object(g.jsx)("div",{className:"button-wrapper",children:Object(g.jsx)(O.a,{id:"button",type:"submit",variant:"contained",color:"primary",children:"Translate"})})]})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,391)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root")),k()}},[[354,1,2]]]);
//# sourceMappingURL=main.b5da65d8.chunk.js.map